
CREATEDB postgres;

CREATE TABLE pessoa (
  id integer CONSTRAINT pk_id_pessoa PRIMARY key,
  nome varchar(30) NOT NULL
);

CREATE TABLE evento (
  id integer CONSTRAINT pk_id_evento PRIMARY key,
  horario date NOT NULL
);

CREATE TABLE evento_pessoa (
  id integer CONSTRAINT pk_id_evento_pessoa PRIMARY key,
  id_pessoa integer not null,
  id_evento integer not null,
  FOREIGN KEY (id_pessoa) REFERENCES pessoa (id) ON DELETE CASCADE,
  FOREIGN KEY (id_evento) REFERENCES evento (id) ON DELETE CASCADE
);


insert into pessoa values (1, 'juju');
insert into pessoa values (2, 'cinho');
insert into pessoa values (3, 'andre');
insert into pessoa values (4, 'mae');
insert into pessoa values (5, 'pai');
insert into pessoa values (6, 'toto');
insert into pessoa values (7, 'mirela');
insert into pessoa values (8, 'jubis');

insert into evento values (1, '2017-03-14');
insert into evento values (2, '2018-04-11');
insert into evento values (3, '2020-02-06');
insert into evento values (4, '1999-03-11');
insert into evento values (5, '2016-12-03');

insert into evento_pessoa values (1, 1, 1);
insert into evento_pessoa values (2, 2, 1);
insert into evento_pessoa values (3, 3, 1);
insert into evento_pessoa values (4, 4, 1);

insert into evento_pessoa values (5, 6, 3);
insert into evento_pessoa values (6, 7, 3);
insert into evento_pessoa values (7, 8, 3);




